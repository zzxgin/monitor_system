import{_ as p,u as c,r as m,a as f,o as g,b as v,c as _,d as w,e,w as h,f as i,v as u,t as b}from"./index-CR4645Pn.js";const y={class:"login-container"},x={class:"login-card"},V={class:"form-group"},L={class:"form-group"},S=["disabled"],B={__name:"LoginView",setup(M){const l=v(),n=c(),a=m(!1),o=f({username:"",password:""}),d=async()=>{if(!o.username||!o.password){alert("请输入用户名和密码");return}try{a.value=!0;const t=await n.login(o);t.success?(alert("登录成功！"),l.push("/home")):alert(t.message||"登录失败")}catch(t){console.error("登录错误:",t),alert(t.message||"登录失败")}finally{a.value=!1}};return g(()=>{n.isLoggedIn&&l.push("/home")}),(t,s)=>(w(),_("div",y,[e("div",x,[s[4]||(s[4]=e("div",{class:"card-header"},[e("h2",null,"服务器监控系统"),e("p",null,"请登录您的账户")],-1)),e("form",{onSubmit:h(d,["prevent"]),class:"login-form"},[e("div",V,[s[2]||(s[2]=e("label",null,"用户名",-1)),i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>o.username=r),type:"text",placeholder:"请输入用户名",required:"",autocomplete:"username"},null,512),[[u,o.username]])]),e("div",L,[s[3]||(s[3]=e("label",null,"密码",-1)),i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>o.password=r),type:"password",placeholder:"请输入密码",required:"",autocomplete:"current-password"},null,512),[[u,o.password]])]),e("button",{type:"submit",disabled:a.value,class:"login-btn"},b(a.value?"登录中...":"登录"),9,S)],32)])]))}},q=p(B,[["__scopeId","data-v-ecf74e5c"]]);export{q as default};
